import{_ as l}from"./Post.071ef68c.js";import{B as d,h as i,w as m,o as r,b as s,C as a,e}from"./vendor.433fbd7a.js";import"./app.a28fe036.js";const u={class:"markdown-body"},h=s("h2",{id:"\u5EFA\u7ACB-lxc",tabindex:"-1",class:"text-2xl font-bold mt-2em mb-1em next:mt-0"},[s("a",{class:"header-anchor text-sky-500 dark:text-sky-400 font-medium hover:underline",href:"#\u5EFA\u7ACB-lxc","aria-hidden":"true"},"#"),e(" \u5EFA\u7ACB LXC")],-1),p=s("p",{class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},"\u91CD\u9EDE\uFF1A",-1),_=s("ul",{class:"my-1.25em list-disc list-inside px-2"},[s("li",{class:"my-0.5em"},"\u52FE\u9078 Unprivileged container"),s("li",{class:"my-0.5em"},"\u4E0D\u8981\u5728\u5EFA\u7ACB\u5F8C\u81EA\u52D5\u555F\u52D5")],-1),k={class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},g={alt:"wp-image-551",class:"w-full my-2em rounded-lg md:rounded-xl"},b=s("br",null,null,-1),f={alt:"wp-image-555",class:"w-full my-2em rounded-lg md:rounded-xl"},x=s("br",null,null,-1),y={alt:"wp-image-552",class:"w-full my-2em rounded-lg md:rounded-xl"},E=s("h2",{id:"\u8A2D\u5B9A-lxc",tabindex:"-1",class:"text-2xl font-bold mt-2em mb-1em next:mt-0"},[s("a",{class:"header-anchor text-sky-500 dark:text-sky-400 font-medium hover:underline",href:"#\u8A2D\u5B9A-lxc","aria-hidden":"true"},"#"),e(" \u8A2D\u5B9A LXC")],-1),v=s("p",{class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},"\u8A2D\u5B9A\u5167\u5BB9\uFF1AOptions => Features \u52FE\u9078",-1),A=s("ul",{class:"my-1.25em list-disc list-inside px-2"},[s("li",{class:"my-0.5em"},"keyctl"),s("li",{class:"my-0.5em"},"Nesting")],-1),B=s("p",{class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},"\u4EE5\u4E0A\u5169\u500B",-1),C={class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},w={alt:"wp-image-553",class:"w-full my-2em rounded-lg md:rounded-xl"},D=s("br",null,null,-1),L={alt:"wp-image-554",class:"w-full my-2em rounded-lg md:rounded-xl"},P=s("h2",{id:"\u555F\u52D5-lxc-\u65B0\u589E\u4F7F\u7528\u8005",tabindex:"-1",class:"text-2xl font-bold mt-2em mb-1em next:mt-0"},[s("a",{class:"header-anchor text-sky-500 dark:text-sky-400 font-medium hover:underline",href:"#\u555F\u52D5-lxc-\u65B0\u589E\u4F7F\u7528\u8005","aria-hidden":"true"},"#"),e(" \u555F\u52D5 LXC & \u65B0\u589E\u4F7F\u7528\u8005")],-1),X=s("h3",{id:"\u555F\u52D5\u5F8C-ssh-\u9032-lxc",tabindex:"-1",class:"text-xl font-semibold mt-1.6em mb-0.6em next:mt-0"},[s("a",{class:"header-anchor text-sky-500 dark:text-sky-400 font-medium hover:underline",href:"#\u555F\u52D5\u5F8C-ssh-\u9032-lxc","aria-hidden":"true"},"#"),e(" \u555F\u52D5\u5F8C SSH \u9032 LXC")],-1),S=s("pre",{class:"language-bash"},[s("code",{class:"language-bash"},[s("span",{class:"token function"},"ssh"),e(` root@server_ip_address
`)])],-1),F=s("h3",{id:"\u5B89\u88DD-sudo",tabindex:"-1",class:"text-xl font-semibold mt-1.6em mb-0.6em next:mt-0"},[s("a",{class:"header-anchor text-sky-500 dark:text-sky-400 font-medium hover:underline",href:"#\u5B89\u88DD-sudo","aria-hidden":"true"},"#"),e(" \u5B89\u88DD sudo")],-1),T=s("pre",{class:"language-bash"},[s("code",{class:"language-bash"},[s("span",{class:"token function"},"apt"),e(` update
`),s("span",{class:"token function"},"apt"),e(),s("span",{class:"token function"},"install"),e(),s("span",{class:"token function"},"sudo"),e(`
`)])],-1),$=s("h3",{id:"\u65B0\u589E\u4F7F\u7528\u8005",tabindex:"-1",class:"text-xl font-semibold mt-1.6em mb-0.6em next:mt-0"},[s("a",{class:"header-anchor text-sky-500 dark:text-sky-400 font-medium hover:underline",href:"#\u65B0\u589E\u4F7F\u7528\u8005","aria-hidden":"true"},"#"),e(" \u65B0\u589E\u4F7F\u7528\u8005")],-1),G=s("p",{class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},"\u81EA\u884C\u66FF\u63DB username",-1),N=s("pre",{class:"language-bash"},[s("code",{class:"language-bash"},`adduser username
`)],-1),j=s("h3",{id:"\u628A\u525B\u5275\u5EFA\u7684\u4F7F\u7528\u8005\u52A0\u5165-sudo-\u7FA4\u7D44",tabindex:"-1",class:"text-xl font-semibold mt-1.6em mb-0.6em next:mt-0"},[s("a",{class:"header-anchor text-sky-500 dark:text-sky-400 font-medium hover:underline",href:"#\u628A\u525B\u5275\u5EFA\u7684\u4F7F\u7528\u8005\u52A0\u5165-sudo-\u7FA4\u7D44","aria-hidden":"true"},"#"),e(" \u628A\u525B\u5275\u5EFA\u7684\u4F7F\u7528\u8005\u52A0\u5165 sudo \u7FA4\u7D44")],-1),z=s("pre",{class:"language-bash"},[s("code",{class:"language-bash"},[s("span",{class:"token function"},"usermod"),e(" -aG "),s("span",{class:"token function"},"sudo"),e(` username
`)])],-1),H=s("h3",{id:"sudo-\u4E0D\u9700\u8F38\u5165\u5BC6\u78BC\uFF08\u53EF\u9078\uFF09",tabindex:"-1",class:"text-xl font-semibold mt-1.6em mb-0.6em next:mt-0"},[s("a",{class:"header-anchor text-sky-500 dark:text-sky-400 font-medium hover:underline",href:"#sudo-\u4E0D\u9700\u8F38\u5165\u5BC6\u78BC\uFF08\u53EF\u9078\uFF09","aria-hidden":"true"},"#"),e(" sudo \u4E0D\u9700\u8F38\u5165\u5BC6\u78BC\uFF08\u53EF\u9078\uFF09")],-1),O=s("p",{class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},"\u958B\u555F\u8A2D\u5B9A\u6A94\uFF1A",-1),U=s("pre",{class:"language-bash"},[s("code",{class:"language-bash"},`visudo
`)],-1),V=s("p",{class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},"\u66F4\u6539\u70BA\u4E0D\u9700\u8F38\u5165\u5BC6\u78BC",-1),W=s("pre",{class:"language-bash"},[s("code",{class:"language-bash"},[s("span",{class:"token comment"},"# Allow members of group sudo to execute any command"),e(`
%sudo  `),s("span",{class:"token assign-left variable"},"ALL"),s("span",{class:"token operator"},"="),s("span",{class:"token punctuation"},"("),e("ALL:ALL"),s("span",{class:"token punctuation"},")"),e(` NOPASSWD:ALL
`)])],-1),R=s("h3",{id:"\u5207\u63DB\u4F7F\u7528\u8005-\u6E2C\u8A66-sudo",tabindex:"-1",class:"text-xl font-semibold mt-1.6em mb-0.6em next:mt-0"},[s("a",{class:"header-anchor text-sky-500 dark:text-sky-400 font-medium hover:underline",href:"#\u5207\u63DB\u4F7F\u7528\u8005-\u6E2C\u8A66-sudo","aria-hidden":"true"},"#"),e(" \u5207\u63DB\u4F7F\u7528\u8005 & \u6E2C\u8A66 sudo")],-1),Z=s("p",{class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},"\u5207\u63DB\u4F7F\u7528\u8005\uFF1A",-1),q=s("pre",{class:"language-bash"},[s("code",{class:"language-bash"},[s("span",{class:"token function"},"su"),e(` - username
`)])],-1),I=s("p",{class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},"\u6E2C\u8A66 sudo",-1),J=s("pre",{class:"language-bash"},[s("code",{class:"language-bash"},[s("span",{class:"token function"},"sudo"),e(),s("span",{class:"token function"},"whoami"),e(`
`)])],-1),K=s("p",{class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},"\u8F38\u51FA\uFF1Ausername \u7684\u8A71\u5C31\u4EE3\u8868\u6210\u529F\u4E86\uFF01",-1),M=s("h2",{id:"\u5B89\u88DD-docker-docker-compose",tabindex:"-1",class:"text-2xl font-bold mt-2em mb-1em next:mt-0"},[s("a",{class:"header-anchor text-sky-500 dark:text-sky-400 font-medium hover:underline",href:"#\u5B89\u88DD-docker-docker-compose","aria-hidden":"true"},"#"),e(" \u5B89\u88DD Docker & Docker Compose")],-1),Q=s("p",{class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},"\u4F7F\u7528\u525B\u525B\u5275\u5EFA\u7684\u4F7F\u7528\u8005\u57F7\u884C\u4EE5\u4E0B\u6B65\u9A5F",-1),Y=s("h3",{id:"\u524D\u7F6E\u6B65\u9A5F",tabindex:"-1",class:"text-xl font-semibold mt-1.6em mb-0.6em next:mt-0"},[s("a",{class:"header-anchor text-sky-500 dark:text-sky-400 font-medium hover:underline",href:"#\u524D\u7F6E\u6B65\u9A5F","aria-hidden":"true"},"#"),e(" \u524D\u7F6E\u6B65\u9A5F")],-1),ss=s("p",{class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},"\u66F4\u65B0 source",-1),es=s("pre",{class:"language-bash"},[s("code",{class:"language-bash"},[s("span",{class:"token function"},"sudo"),e(),s("span",{class:"token function"},"apt"),e(` update
`)])],-1),ts=s("p",{class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},"\u8B93 apt \u4F7F\u7528 HTTPS \u9023\u7DDA",-1),as=s("pre",{class:"language-bash"},[s("code",{class:"language-bash"},[s("span",{class:"token function"},"sudo"),e(),s("span",{class:"token function"},"apt"),e(),s("span",{class:"token function"},"install"),e(),s("span",{class:"token punctuation"},"\\"),e(`
    apt-transport-https `),s("span",{class:"token punctuation"},"\\"),e(`
    ca-certificates `),s("span",{class:"token punctuation"},"\\"),e(`
    `),s("span",{class:"token function"},"curl"),e(),s("span",{class:"token punctuation"},"\\"),e(`
    gnupg-agent `),s("span",{class:"token punctuation"},"\\"),e(`
    software-properties-common
`)])],-1),ns=s("p",{class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},"\u52A0\u5165 Docker \u5B98\u65B9 GPG key",-1),os=s("pre",{class:"language-bash"},[s("code",{class:"language-bash"},[s("span",{class:"token function"},"curl"),e(" -fsSL https://download.docker.com/linux/debian/gpg "),s("span",{class:"token operator"},"|"),e(),s("span",{class:"token function"},"sudo"),e(" apt-key "),s("span",{class:"token function"},"add"),e(` -
`)])],-1),cs=s("p",{class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},"\u52A0\u5165 Docker \u5B98\u65B9 repository",-1),ls=s("pre",{class:"language-bash"},[s("code",{class:"language-bash"},[s("span",{class:"token function"},"sudo"),e(" add-apt-repository "),s("span",{class:"token punctuation"},"\\"),e(`
   `),s("span",{class:"token string"},[e(`"deb &#91;arch=amd64] https://download.docker.com/linux/debian \\
   `),s("span",{class:"token variable"},[s("span",{class:"token variable"},"$("),e("lsb_release -cs"),s("span",{class:"token variable"},")")]),e(` \\
   stable"`)]),e(`
`)])],-1),ds=s("h3",{id:"\u5B89\u88DD-docker",tabindex:"-1",class:"text-xl font-semibold mt-1.6em mb-0.6em next:mt-0"},[s("a",{class:"header-anchor text-sky-500 dark:text-sky-400 font-medium hover:underline",href:"#\u5B89\u88DD-docker","aria-hidden":"true"},"#"),e(" \u5B89\u88DD Docker")],-1),is=s("pre",{class:"language-bash"},[s("code",{class:"language-bash"},[s("span",{class:"token function"},"sudo"),e(),s("span",{class:"token function"},"apt-get"),e(` update
`),s("span",{class:"token function"},"sudo"),e(),s("span",{class:"token function"},"apt-get"),e(),s("span",{class:"token function"},"install"),e(` docker-ce docker-ce-cli containerd.io
`)])],-1),ms=s("p",{class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},"\u6E2C\u8A66\uFF1A",-1),rs=s("pre",{class:"language-bash"},[s("code",{class:"language-bash"},`docker version
`)],-1),us=s("p",{class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},"\u6709\u8DD1\u51FA\u7248\u672C\u8CC7\u8A0A\u5C31\u6210\u529F\u4E86",-1),hs=s("h4",{id:"\u5C07\u4F7F\u7528\u8005\u52A0\u5165-docker-\u7FA4\u7D44\uFF08\u53EF\u9078\uFF09",tabindex:"-1",class:"font-semibold mt-1.5em mb-0.5em next:mt-0"},[s("a",{class:"header-anchor text-sky-500 dark:text-sky-400 font-medium hover:underline",href:"#\u5C07\u4F7F\u7528\u8005\u52A0\u5165-docker-\u7FA4\u7D44\uFF08\u53EF\u9078\uFF09","aria-hidden":"true"},"#"),e(" \u5C07\u4F7F\u7528\u8005\u52A0\u5165 docker \u7FA4\u7D44\uFF08\u53EF\u9078\uFF09")],-1),ps=s("p",{class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},"\u53EF\u4EE5\u4E0D\u4F7F\u7528 sudo \u76F4\u63A5\u57F7\u884C docker",-1),_s=s("pre",{class:"language-bash"},[s("code",{class:"language-bash"},[s("span",{class:"token function"},"sudo"),e(),s("span",{class:"token function"},"usermod"),e(" -aG docker "),s("span",{class:"token environment constant"},"$USER"),e(`
`)])],-1),ks=s("h3",{id:"\u5B89\u88DD-docker-compose",tabindex:"-1",class:"text-xl font-semibold mt-1.6em mb-0.6em next:mt-0"},[s("a",{class:"header-anchor text-sky-500 dark:text-sky-400 font-medium hover:underline",href:"#\u5B89\u88DD-docker-compose","aria-hidden":"true"},"#"),e(" \u5B89\u88DD Docker Compose")],-1),gs=s("p",{class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},"\u4E0B\u8F09 Docker Compose",-1),bs=s("pre",{class:"language-bash"},[s("code",{class:"language-bash"},[s("span",{class:"token function"},"sudo"),e(),s("span",{class:"token function"},"curl"),e(" -L "),s("span",{class:"token string"},[e('"https://github.com/docker/compose/releases/download/1.25.5/docker-compose-'),s("span",{class:"token variable"},[s("span",{class:"token variable"},"$("),s("span",{class:"token function"},"uname"),e(" -s"),s("span",{class:"token variable"},")")]),e("-"),s("span",{class:"token variable"},[s("span",{class:"token variable"},"$("),s("span",{class:"token function"},"uname"),e(" -m"),s("span",{class:"token variable"},")")]),e('"')]),e(` -o /usr/local/bin/docker-compose
`)])],-1),fs=s("p",{class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},"\u6B0A\u9650\u53EF\u57F7\u884C",-1),xs=s("pre",{class:"language-bash"},[s("code",{class:"language-bash"},[s("span",{class:"token function"},"sudo"),e(),s("span",{class:"token function"},"chmod"),e(` +x /usr/local/bin/docker-compose
`)])],-1),ys=s("p",{class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},"\u9023\u7D50\u5230 path",-1),Es=s("pre",{class:"language-bash"},[s("code",{class:"language-bash"},[s("span",{class:"token function"},"sudo"),e(),s("span",{class:"token function"},"ln"),e(` -s /usr/local/bin/docker-compose /usr/bin/docker-compose
`)])],-1),vs=s("p",{class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},"\u78BA\u8A8D\u5B89\u88DD",-1),As=s("pre",{class:"language-bash"},[s("code",{class:"language-bash"},`docker-compose --version
`)],-1),Bs=s("p",{class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},"\u6709\u8DD1\u51FA\u7248\u672C\u8CC7\u8A0A\u5C31\u6210\u529F\u4E86",-1),Cs=s("h2",{id:"\u7D50\u8A9E",tabindex:"-1",class:"text-2xl font-bold mt-2em mb-1em next:mt-0"},[s("a",{class:"header-anchor text-sky-500 dark:text-sky-400 font-medium hover:underline",href:"#\u7D50\u8A9E","aria-hidden":"true"},"#"),e(" \u7D50\u8A9E")],-1),ws=s("p",{class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},"\u4EE5\u4E0A\u5C31\u662F\u5728 Proxmox LXC \u5B89\u88DD Docker & Docker Compose \u7684\u65B9\u6CD5",-1),Ds=s("p",{class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},"\u81F3\u65BC\u8981\u65B0\u589E\u4E00\u500B\u4F7F\u7528\u8005\u800C\u4E0D\u76F4\u63A5\u4F7F\u7528 root \u5E33\u865F\u4E3B\u8981\u6709\u5169\u500B\u539F\u56E0",-1),Ls=s("ul",{class:"my-1.25em list-disc list-inside px-2"},[s("li",{class:"my-0.5em"},"\u5B89\u5168\u6027\u554F\u984C\uFF0CDocker \u5B98\u65B9\u4E5F\u5EFA\u8B70\u4E0D\u8981\u4F7F\u7528 root \u5E33\u865F"),s("li",{class:"my-0.5em"},"\u6709\u4E9B image \u5982\u679C\u7528 root \u8DD1\u7684\u8A71\u6703\u6709\u6B0A\u9650\u554F\u984C")],-1),Ps=s("p",{class:"my-1.25em last:mt-0 first:mb-0 leading-[1.75]"},"\u5982\u679C\u6709\u5176\u4ED6\u554F\u984C\uFF0C\u6B61\u8FCE\u5728\u4E0B\u9762\u7559\u8A00\uFF01",-1),Ns={setup(Xs,{expose:o}){const n={title:"Proxmox LXC \u5B89\u88DD Docker & Docker Compose",author:"hanlee",type:"post",lang:"zh-TW",date:"2020-04-17T08:10:44.000Z",description:"\u5EFA\u7ACB\u4E00\u500B Proxmox LXC\uFF0C\u5728 LXC \u4E2D\u65B0\u589E\u4F7F\u7528\u8005\uFF0C\u5B89\u88DD Docker & Docker Compose\u3002",url:"/proxmox-lxc-\u5B89\u88DD-docker-docker-compose/",image:"/images/2020/04/docker-in-lxc.png",categories:["Proxmox"],tags:["Container","Debian","Docker","Docker Compose","LXC","Proxmox","sudo"]};return o({frontmatter:n}),(Ss,Fs)=>{const c=l,t=d("lazy");return r(),i(c,{frontmatter:n},{default:m(()=>[s("div",u,[h,p,_,s("p",k,[a(s("img",g,null,512),[[t,"/images/2020/04/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88-2020-04-17-16.08.06.png"]]),b,a(s("img",f,null,512),[[t,"/images/2020/04/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88-2020-04-17-16.08.19.png"]]),x,a(s("img",y,null,512),[[t,"/images/2020/04/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88-2020-04-17-16.10.13.png"]])]),E,v,A,B,s("p",C,[a(s("img",w,null,512),[[t,"/images/2020/04/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88-2020-04-17-16.10.38.png"]]),D,a(s("img",L,null,512),[[t,"/images/2020/04/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88-2020-04-17-16.10.46.png"]])]),P,X,S,F,T,$,G,N,j,z,H,O,U,V,W,R,Z,q,I,J,K,M,Q,Y,ss,es,ts,as,ns,os,cs,ls,ds,is,ms,rs,us,hs,ps,_s,ks,gs,bs,fs,xs,ys,Es,vs,As,Bs,Cs,ws,Ds,Ls,Ps])]),_:1})}}};export{Ns as default};
